<main class="wrap-content">
  <h1 class="title has-text-centered my-6 ft-size-md">
    <%= @my_history.title %>
  </h1>
  <!-- グラフ -->
  <div class="columns is-centered is-mobile">
    <div class="chart-container column graph-area is-11-mobile is-11-tablet is-9-desktop is-9-widescreen is-9-fullhd">
      <canvas id="myChart"></canvas>
    </div>
  </div>

  <div class="columns is-centered">
    <div class="column has-text-centered is-12-mobile is-3-tablet is-1-desktop is-1-widescreen is-1-fullhd">
      <p class="control">
        <a class="bd-tw-button button button-twitter" data-social-network="Twitter" data-social-action="tweet" data-social-target="https://bulma.io" target="_blank" href="https://twitter.com/intent/tweet?text=Bulma: a modern CSS framework based on Flexbox&amp;hashtags=bulmaio&amp;url=https://bulma.io&amp;via=jgthms">
          <span class="icon">
            <i class="fab fa-twitter"></i>
          </span>
          <span>
            ツイート
          </span>
        </a>
      </p>
    </div>
    <div class="column has-text-centered is-12-mobile is-3-tablet is-1-desktop is-1-widescreen is-1-fullhd">
      <p class="control">
        <a class="button is-primary" href="#">
          <span class="icon">
            <i class="fas fa-download"></i>
          </span>
          <span>ダウンロード</span>
        </a>
      </p>
    </div>
    <div class="column has-text-centered is-12-mobile is-3-tablet is-1-desktop is-1-widescreen is-1-fullhd">
      <p class="control like-control">
        <a class="button button-like" href="#">
          <span class="icon">
            <i class="far fa-thumbs-up"></i>
          </span>
          <span>いいね</span>
        </a>
      </p>
    </div>
  </div>

  <!-- 出来事一覧 -->
  <h2 class="title subtitle has-text-centered my-6 ft-size-md">出来事一覧</h2>
  <div class="columns my-6 is-centered is-mobile">
    <div class="column pd-sm is-10-mobile is-11-tablet is-two-fifths-desktop is-two-thirds-widescreen is-7-fullhd">
      <div class="page">
        <%= render "event", group_events: @group_events %>
      </div>
    </div>
  </div>

  <!-- コメントエリア -->
  <div class="columns my-6 is-centered is-mobile">
    <div class="column pd-sm is-11-mobile is-11-tablet is-two-fifths-desktop is-two-thirds-widescreen is-7-fullhd">
      <section id="main" >
        <div class="msg-info">
          <div class="avatar-img">
            <%= image_tag @user.avatar.url, size: "64x64", class: "avatar" %>
            <br>
          </div>
          <div class="avatar-info">
            ユーザー名：<%= @user.name %><br>
            年齢：<%= @user.calc_age %><br>
            性別：<%= @user.gender_i18n %><br>
          </div>
        </div>
        <div class="area-bord" id="js-scroll-bottom">
          <div class="msg-cnt msg-left">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキスト
              <br>
              <span class="mt-2 date">佐藤はるき <br> 2021/10/30</span>
            </p>
          </div>
          <div class="msg-cnt msg-right">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキ
              <br>
              <span class="mt-2 has-text-right date">田中健 <br> 2021/10/30</span>
            </p>

            <div class="dropdown is-right dropdown-right is-active">
              <div class="dropdown-trigger">
                <span class="icon is-small">
                  <i class="fa fa-ellipsis-h edit-comment-icon" aria-hidden="true"></i>
                </span>
              </div>
              <div class="dropdown-menu dropdown-right-menu" id="dropdown-menu5" role="menu">
                <div class="dropdown-content">
                  <div class="dropdown-item">
                    <button class="button is-primary is-small mr-2">編集</button>
                    <button class="button is-link is-small">削除</button>
                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="msg-cnt msg-left">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサ
              <span class="mt-2 date">2021/10/30</span>
            </p>
          </div>
          <div class="msg-cnt msg-right">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキ
              <span class="mt-2 has-text-right date">2021/10/30</span>
            </p>
          </div>
          <div class="msg-cnt msg-left">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサ
              <span class="mt-2 date">2021/10/30</span>
            </p>
          </div>
          <div class="msg-cnt msg-right">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキ
              <span class="mt-2 has-text-right date">2021/10/30</span>
            </p>
          </div>
          <div class="msg-cnt msg-left">
            <div class="avatar">
              <img src="/assets/no_image.png" alt="" class="avatar">
            </div>
            <p class="msg-inrTxt">
              <span class="triangle"></span>
              サンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサンプルテキストサ
              <span class="mt-2 date">2021/10/30</span>
            </p>
          </div>
        </div>
        <div class="area-send-msg">
          <textarea name="" id="" cols="30" rows="3"></textarea>
          <input type="submit" value="送信" class="button is-btn-edit btn-design has-text-weight-semibold">
        </div>
      </section>
    </div>
  </div>
</main>

<script>
const ctx = document.getElementById("myChart");

const myChart = new Chart(ctx, {
  type: "line",
  data: {
    /* グラフのx軸 */
    // labels: ['11', '16', '23', '27', '32', '48', '58'],
    datasets: [{
      /* グラフ全体のラベル */
      label: "充実度",
      /* グラフのデータ(x軸 & y軸) */
      data: [{ x: "11", y: 60}, {x:"16", y: 35}, {x: "23", y: 24}, {x:"27", y: 80}, {x:"32", y: 39}, {x:"48", y: 34}, {x:"58", y: -99}],
      /* グラフのy軸 */
      // data: [60, 35, 24, 80, 39, 34, -99],
      /* 背景色 */
      backgroundColor: "rgba(255, 99, 132, 0.2)",
      /* 枠線色 */
      borderColor: "rgb(255, 99, 132)",
      /* ポイントを塗りつぶす色 */
      pointBackgroundColor: "rgb(255, 99, 132)",
      /* ポイントの枠線色 */
      pointBorderColor: "#fff",
      /* ホバー時のポイントの背景色 */
      pointHoverBackgroundColor: "#fff",
      /* ホバー時のポイントの枠線色 */
      pointHoverBorderColor: "rgb(255, 99, 132)",
    }],
  },
  //オプションの設定
  options: {
    scales: { // 軸設定
      x: {
        display: true,
        title: {
          display: true,
          text: "年齢"
        },
      },
      y: {
        display: true,
        title: {
          display: true,
          text: "充実度"
        },
        min: -100,
        max: 100,
      }
    },
    elements: {
      line: {
        /* 枠線の太さ */
        borderWidth: 1,
        tension: 0.1,
        responsive: true,
        maintainAspectRatio: false,
      },
    },
  },
});

</script>
